# MCP Implementation Environment Configuration
# Copy this to .env and customize for your deployment

# Service Configuration
HOST=0.0.0.0
PORT=8080

# Agent Configuration
AGENT_MODEL=gemini-1.5-flash
AGENT_NAME=GreetingAgent
AGENT_INSTRUCTION=You are a friendly greeting agent. Welcome users warmly and help them with their requests. Be conversational, helpful, and use the available tools when appropriate.

# Google Cloud Configuration
GOOGLE_CLOUD_PROJECT=your-project-id
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json
GCP_PROJECT=your-project-id

# Google Cloud Run Authentication
TARGET_AUDIENCE=https://your-mcp-server-service.run.app
EXPECTED_AUDIENCE=https://your-mcp-server-service.run.app
CLOUD_RUN_AUDIENCE=https://your-mcp-server-service.run.app

# MCP Server Configuration
MCP_URL=http://localhost:8000
MCP_SERVER_URL=https://your-mcp-server-service.run.app
MCP_SERVER_TIMEOUT=30
MCP_CLIENT_SERVICE_ACCOUNT=mcp-client-sa@your-project.iam.gserviceaccount.com
MCP_SERVER_SERVICE_ACCOUNT=mcp-server-sa@your-project.iam.gserviceaccount.com

# Security Configuration
OPA_URL=http://localhost:8181
KMS_KEY_PATH=projects/your-project/locations/global/keyRings/your-ring/cryptoKeys/your-key
SECURITY_LEVEL=standard
MODEL_ARMOR_API_KEY=your-model-armor-api-key

# Environment and Deployment
ENVIRONMENT=development
LOG_LEVEL=info

# Testing Configuration (optional - for running tests)
AGENT_SERVICE_URL=http://localhost:8080

# Cloud Run Specific (automatically set by Cloud Run when deployed)
# CLOUD_RUN_SERVICE=agent-greeting-service
# CLOUD_RUN_REVISION=agent-greeting-service-001
# K_SERVICE=agent-greeting-service

# Template Method Security Configuration (NEW - Required for BaseAgentService)
ENABLE_PROMPT_PROTECTION=true
ENABLE_CONTEXT_VALIDATION=true
ENABLE_MCP_VERIFICATION=true
ENABLE_RESPONSE_SANITIZATION=true
ENABLE_SECURITY_AUDIT_LOGGING=true

# Security Control Thresholds
MAX_CONTEXT_SIZE=10000
PROMPT_INJECTION_THRESHOLD=0.7
MAX_RESPONSE_SIZE=50000

# MCP Response Security
VERIFY_MCP_SIGNATURES=true
TRUST_UNSIGNED_RESPONSES=false

# LLM Guard Configuration (for Model Armor integration)
LLM_MODEL_NAME=gemini-1.5-flash
LLM_GUARD_TIMEOUT=4.0
ENABLE_LLM_INPUT_GUARD=true
ENABLE_LLM_OUTPUT_GUARD=true
